# NAOS Web App - Environment Variables
# Copy this file to .env and fill in the values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection string
# For Replit: Use the DATABASE_URL from your Replit PostgreSQL database
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/naos

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Base URL of the application (used for generating links, callbacks, etc.)
# In production, set this to your deployed domain (e.g., https://your-app.repl.co)
APP_URL=http://localhost:3000

# Session secret for cookie signing (minimum 32 characters)
# Generate with: openssl rand -base64 32
SESSION_SECRET=your-session-secret-at-least-32-characters-long

# Internal token for service-to-service authentication (e.g., entitlements API)
# Generate with: openssl rand -hex 32
ENTITLEMENTS_INTERNAL_TOKEN=your-internal-api-token-here

# Path to NAOS projects directory (relative to app root)
NAOS_PROJECTS_ROOT=../../projects

# =============================================================================
# STRIPE PAYMENT CONFIGURATION
# =============================================================================

# Stripe API Keys (from https://dashboard.stripe.com/apikeys)
# Use test keys for development (sk_test_...) and live keys for production (sk_live_...)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Webhook signing secret (from https://dashboard.stripe.com/webhooks)
# Required to verify Stripe webhook signatures
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret

# Price ID for Founders Lifetime Membership ($49)
# Create this in the Stripe Dashboard under Products > Prices
STRIPE_PRICE_ID=price_your_founders_price_id

# Checkout success/cancel redirect URLs
# These are where users are redirected after completing/canceling checkout
STRIPE_SUCCESS_URL=http://localhost:3000/checkout/success
STRIPE_CANCEL_URL=http://localhost:3000/checkout/cancel

# =============================================================================
# STORAGE CONFIGURATION (Optional - for Replit deployments)
# =============================================================================

# Replit Object Storage bucket name
# Only needed when deploying to Replit with Object Storage enabled
# Leave blank for local development or if using alternative storage
REPLIT_OBJECT_STORAGE_BUCKET=

# =============================================================================
# DATA RETENTION (for maintenance scripts)
# =============================================================================

# How long to retain playback position data (in months)
# Default: 12 months
PLAYBACK_RETENTION_MONTHS=12

# How long to retain entitlement records after expiry (in years)
# Default: 7 years (for legal/tax purposes)
ENTITLEMENT_RETENTION_YEARS=7

# Grace period before final deletion of user data (in days)
# Default: 30 days
DELETION_GRACE_DAYS=30

# Set to "true" to run retention scripts in dry-run mode (no actual deletions)
DRY_RUN=true

# =============================================================================
# NODE ENVIRONMENT
# =============================================================================

# Environment mode: development, production, or test
NODE_ENV=development
